"use strict";var vm=new Vue({el:"#app",data:{produtos:[],produto:!1,carrinho:[]},filters:{numeroPreco:function(o){return o.toLocaleString("EU",{style:"currency",currency:"EUR"})}},computed:{carrinhoTotal:function(){var t=0;return this.carrinho.length&&this.carrinho.forEach(function(o){t+=o.preco}),t}},methods:{fetchProdutos:function(){var t=this;fetch("./api/produtos.json").then(function(o){return o.json()}).then(function(o){t.produtos=o})},fetchProduto:function(o){var t=this;fetch("./api/produtos/".concat(o,"/dados.json")).then(function(o){return o.json()}).then(function(o){t.produto=o})},abrirModal:function(o){this.fetchProduto(o),window.scrollTo({top:0,behavior:"smooth"})},fecharModal:function(o){console.log(o.target),console.log(o.currentTarget),o.target===o.currentTarget&&(this.produto=!1)},adicionarItem:function(){this.produto.estoque--;var o=this.produto,t=o.id,r=o.nome,o=o.preco;this.carrinho.push({id:t,nome:r,preco:o})},removerItem:function(){this.carrinho.splice(0,1)},checarLocalStorage:function(){window.localStorage.carrinho&&(this.carrinho=JSON.parse(window.localStorage.carrinho))}},watch:{carrinho:function(){window.localStorage.carrinho=JSON.stringify(this.carrinho)}},created:function(){this.fetchProdutos(),this.checarLocalStorage()}});